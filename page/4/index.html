<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
        Arahc&#39;s blog</title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    
    <meta name="generator" content="Hugo 0.91.2 with theme pure" />
    <title>Arahc&#39;s blog</title>
    
    <link rel="alternate" type="application/rss+xml" href="http://walker68145.github.io/Arahc.github.io/index.xml" title="Arahc's blog" />
    
    <link rel="stylesheet" href="http://walker68145.github.io/Arahc.github.io/css/style.min.e64d754037c0ee0ec4e20ab1d6f07740ace61729bc03850559b8caa21ae4a597.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="Arahc&#39;s blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://walker68145.github.io/Arahc.github.io/" />

<meta itemprop="name" content="Arahc&#39;s blog">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Arahc&#39;s blog"/>
<meta name="twitter:description" content=""/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black main-center theme-black main-center theme-black main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/Walker_68145" target="_blank">
            <img class="img-circle img-rotate" src="http://walker68145.github.io/Arahc.github.io/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">Arahc</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Arahc&#39;s home</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Changsha, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/Arahc.github.io/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/Arahc.github.io/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/Arahc.github.io/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/Arahc.github.io/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/Arahc.github.io/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>博客已经由 Walker_68145.github.io 转移到此处，原页面保留，为此带来的不便请大家谅解。</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div id="tag-cloud-list" class="widget-body">
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link" rel="1">k进制<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/stl/" class="tag-list-link" rel="1">stl<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link" rel="2">二分三分<span
               class="tag-list-count">2</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link" rel="3">分治<span
               class="tag-list-count">3</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link" rel="8">动态规划<span
               class="tag-list-count">8</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link" rel="7">图论<span
               class="tag-list-count">7</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link" rel="1">字符串<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link" rel="10">数学<span
               class="tag-list-count">10</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link" rel="9">数据结构<span
               class="tag-list-count">9</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link" rel="4">暴力<span
               class="tag-list-count">4</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link" rel="1">莫队<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link" rel="3">贪心<span
               class="tag-list-count">3</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link" rel="2">随机化<span
               class="tag-list-count">2</span></a>
            
    </div>
<script>
document.onreadystatechange = () => {
  if (document.readyState === 'complete') {
    tagCloud('#tag-cloud-list a',  8 ,  20 );
  }
};

function tagCloud(where, min, max) {
  let iMax = 0;
  let iMin = 0;
  $(where).each(function() {
    let weight = Number($(this).attr("rel"));
    if(iMax < weight) iMax = weight;
    if(iMin > weight || iMin == 0) iMin = weight;
  });
  let step = (max - min)/(iMax - iMin);
  $(where).each(function() {
    let weight = $(this).attr("rel") - iMin;
    $(this).css({"font-size": min + (weight * step) + 'px'});
  });
};
</script>
</div>

      <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E6%9D%82%E9%A1%B9/" class="category-list-link">杂项</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E7%AC%94%E8%AE%B0/" class="category-list-link">笔记</a><span class="category-list-count">11</span></li>
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/" class="category-list-link">题解</a><span class="category-list-count">20</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link">k进制</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/stl/" class="tag-list-link">stl</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link">二分三分</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link">分治</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link">动态规划</a><span
                    class="tag-list-count">8</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link">图论</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link">字符串</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link">数学</a><span
                    class="tag-list-count">10</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link">数据结构</a><span
                    class="tag-list-count">9</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link">暴力</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link">莫队</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link">贪心</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link">随机化</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/p5633%E6%9C%80%E5%B0%8F%E5%BA%A6%E9%99%90%E5%88%B6%E7%94%9F%E6%88%90%E6%A0%91-%E9%A2%98%E8%A7%A3/" class="title">P5633最小度限制生成树 题解</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-28 21:43:22 &#43;0800 CST" itemprop="datePublished">2021-12-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/%E7%BA%BF%E6%80%A7%E5%9F%BA%E5%85%A5%E9%97%A8/" class="title">线性基入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-22 21:47:24 &#43;0800 CST" itemprop="datePublished">2021-12-22</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/markdown-%E5%85%A5%E9%97%A8/" class="title">Markdown 入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-30 18:41:00 &#43;0800 CST" itemprop="datePublished">2021-11-30</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/oi-%E7%9B%B8%E5%85%B3%E7%9A%84%E9%9D%9E%E5%88%87%E9%A2%98%E5%86%85%E5%AE%B9/" class="title">OI 相关的非切题内容</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-28 21:42:04 &#43;0800 CST" itemprop="datePublished">2021-11-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E4%B8%8Ekdtree/" class="title">替罪羊与KDTree</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-25 21:48:19 &#43;0800 CST" itemprop="datePublished">2021-11-25</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    

<main class="main" role="main">
  
  <div class="content article-list">
    
    
    
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E8%8A%B1%E7%94%9F%E9%87%87%E6%91%98-%E9%A2%98%E8%A7%A3/"
    >花生采摘 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        题目传送门
翻了这道题的前两页题解，没有几个和我的思路相仿的。唯一的一个我看不懂
首先为了让大家快速找到自己可能有的错误，把这道题的部分坑点给出来：
 关于算法，题目已经明确规定了走法是按照花生数目由大到小摘花生：  鲁宾逊先生说：“你$\color{red}\text{先找出花生最多}$的植株，去采摘它的花生；然后$\color{red}\text{再找出剩下的植株里花生最多的}$，去采摘它的花生；$\color{Blue}\text{依此类推}$，不过你一定要在我限定的时间内回到路边。”
 关于摘花生，将花生采摘下来是要耗费时间的。有同学没有+1，就会爆炸。
  关于抄近道，题目虽然没有说清楚，但是不能通过在大路上抄近道省时间。
  比如这样的情况，不能走红线，只能老老实实走蓝色路（曼哈顿）
关于第四个数据点：  1 1 5
15
如果你的答案是 45，请检查一下你是否重复在摘这个仅有的格子。
 关于数组大小：开25*25绝对不会错。
  对于没读好题目：保证没有花生数一样的格子，各位不要想太多。
  考虑最终答案是0的情况，不要一上来就摘了花生回不去。
  无脑抄袭我的代码或其他有反作弊措施的代码的人会体验CE的快感。
  然后是我对这道题的分析：
做法比较明显，就是一步一步摘，判断会不会超时，然后算一个曼哈顿距离。
（曼哈顿距离公式：|$x_{1}$-$x_{2}$|+|$y_{1}$-$y_{2}$|）
各位的算法基本都是使用一个结构体，存储格子的坐标和花生数，有的人还存了时间，然后 sort 结构体，依次考虑摘不摘。
我的方法主要区别是省去了结构体和排序这两步。
我使用了一个 map（套 pair） 来存储一个格子的花生数目和坐标，这样当我选定一个花生数目的时候可以 O(1) 查询坐标。
对于从大到小排序，C++ 的STL的 $\color{RoyalBlue}\text{priority queue}$ 可以 O(logn) 插入一个数。
使用 STL 就可以做到输入完成的时候就已经做好了花生数和坐标的绑定，以及一个排序。
这个算法坑在代码实现，最难的地方就是怎么拼写 $\color{RoyalBlue}\text{priority queue}$
解决方法也很简单，搜一下就可以了
$\color{LimeGreen}\text{输入代码}$
int n,m,k,a[23][23]; map&lt;int,pair&lt;int,int&gt; &gt;c; priority_queue&lt;int&gt; q; n=read(),m=read(),k=read(); for(register int i=1;i&lt;=n;++i) for(register int j=1;j&lt;=m;++j){ a[i][j]=read(); c[a[i][j]]=make_pair(i,j); q.
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E8%8A%B1%E7%94%9F%E9%87%87%E6%91%98-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2020-01-11 10:39:25 &#43;0800 CST" itemprop="datePublished">2020-01-11</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> 数据结构 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/stl/"> STL </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 189 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 1 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/bitmap-%E9%A2%98%E8%A7%A3/"
    >BITMAP 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        最近总喜欢在SPOJ上刷黑白双煞题
题目传送门
这题的思路异常简单。实际上，如果你稍微看一看，就会发现……
$\color{CornflowerBlue}\text{范围：1&lt;=n,m&lt;=182}$
所以很多人第一反应想到的就是暴力搜索啊！
 只需要输入+搜索就可以搞定啊！  $\color{Green}\text{想法很完美，实际很崩溃}$
虽然我没试过，但是大概算一下，搞不好最坏要：T 组数据 · 矩阵大小 · 矩阵大小 （枚举0、1两格）
矩阵长和宽为182的范围感觉还是吃不消的。
所以就需要进一步优化。
其实具体也还是很简单的：
  既然我们枚举的是0、1两格的位置……
  $\color{CornflowerBlue}\text{不妨直接记录下来，岂不美哉？}$
  具体记录也很简单，输入时加个 if-else 就可以了。如果怕空间浪费的话，可以用 STL 的 vector ，动态延长数组，在此基础上的访问和末尾添加元素也和数组一样是 O(1) 的。
 回到正题，如果记录下来了每个0和1的位置，就只需要枚举位置就行了。大概可以优化到 O(T * n$^{2}$)。（T是数据组数）
最后乘上数据数量，虽然 T 的范围我没有找到，但实测得出这是不会TLE的。
或许就可以打出代码了……
#include&lt;bits/stdc++.h&gt;using namespace std; int T,n,m,i,j,b[190][190],s; bool a[190][190]; char x; vector&lt;int&gt; z[2]; vector&lt;int&gt; w[2]; int main(){ ios::sync_with_stdio(false); cin.tie(0); cout.tie(0); cin&gt;&gt;T; while(T--&gt;0){ cin&gt;&gt;n&gt;&gt;m; for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++){ cin&gt;&gt;x; if(x==&#39;0&#39;) a[i][j]=0; else a[i][j]=1; if(!
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/bitmap-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2019-08-27 21:32:18 &#43;0800 CST" itemprop="datePublished">2019-08-27</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/"> 暴力 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 235 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 2 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E6%9C%80%E5%A4%A7%E5%AD%90%E6%AE%B5%E5%92%8C-%E9%A2%98%E8%A7%A3/"
    >最大子段和 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        又来水题解了
** 题目传送门**
又是一道经典的 dp
实际上这题也没有大家想的辣么难啊……
首先还是从不同的算法分析吧：
- 暴力 爆搜这代码简单直白。实际上我们需要枚举l和r，然后计算[l,r]的元素和就阔以了。
** $\color{purple}\text{代码五分钟，运行两小时}$ **
所以我们需要一个更高效的算法。
 $\color{red}\text{推导一下：}$ 首先，我们现在纸上写一写：
** 2、-4、3、-1、2、-4、3。答案4（选3、-1、2）**
那么是怎么推出来的呢？
首先看到第一个数，是$\color{green}\text{2}$。
$\color{green}\text{2}$后面是$\color{green}\text{-4}$，所以如果$\color{green}\text{-4}$是答案的一部分，那么$\color{green}\text{2}$一定也要加上去（答案就增加了）
随后是$\color{green}\text{3}$。
如果$\color{green}\text{3}$把前面的$\color{green}\text{2}$和$\color{green}\text{-4}$加上去，结果是$\color{brown}\text{1}$。这个时候反而比原来的$\color{green}\text{3}$要小了。所以如果答案含有$\color{green}\text{3}$，就一定不会加上前面的$\color{green}\text{2}$和$\color{green}\text{-4}$。
下一个数是$\color{green}\text{-1}$。这个数加上前面的$\color{green}\text{3}$之后增加了数值（变成了$\color{brown}\text{2}$），所以如果答案有$\color{green}\text{-1}$，辣么绝对还有前面的$\color{green}\text{3}$。
接下来是$\color{green}\text{2}$，如果$\color{green}\text{2}$加上前面的序列$\color{green}\text{（3、-1）}$，辣么它的值变为$\color{brown}\text{4}$。比原先增加了。
然后是$\color{green}\text{-4}$，如果把$\color{green}\text{-4}$加上前面的序列$\color{green}\text{（3、-1、2）}$，结果会变成$\color{brown}\text{0}$，比原先的$\color{green}\text{-4}$大，所以如果$\color{green}\text{-4}$是答案的一部分，那么前面的三个数也一定是答案的一部分。
最后一个数，也就是$\color{green}\text{3}$，如果将$\color{green}\text{3}$加上前面的序列，结果变成了$\color{brown}\text{3}$。
最后我们来看一看刚推导的结果，发现$\color{brown}\text{4}$是我们可以得出的最大和。
故输出4
所以说了这么多 （还用了这么多Markdown改颜色） ，最终的结果是什么呢？
$\color{DarkOrchid}\text{- 第一个数为一个有效序列}$ $\color{DarkOrchid}\text{- 如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。}$ $\color{DarkOrchid}\text{- 如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列}$
在处理的过程中计算有效序列的所有元素之和。
最后取最大值即可。
（如果还有人不懂，我也只能贴代码了）
#include&lt;bits/stdc++.h&gt;using namespace std; int n,a[200020],b[200020],i,ans=-2147483647; int main(){ cin&gt;&gt;n; for(i=1;i&lt;=n;i++){ cin&gt;&gt;a[i]; if(i&lt;2) b[i]=a[i]; else b[i]=max(a[i],b[i-1]+a[i]); ans=max(ans,b[i]); } cout&lt;&lt;ans; return 0; } 这个代码之所以我没有加注释，是因为……
$\color{Purple}\text{还可以做得更好}$
我们来看一眼代码：
 输入a[i] 给b[i]赋值 给ans赋值  全程中 a 数组是没有意义的，也就是说，它可以被一个变量代替。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E6%9C%80%E5%A4%A7%E5%AD%90%E6%AE%B5%E5%92%8C-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2019-08-20 10:49:51 &#43;0800 CST" itemprop="datePublished">2019-08-20</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"> 动态规划 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 125 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 1 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E6%95%B0%E5%AD%97%E4%B8%89%E8%A7%92%E5%BD%A2-%E9%A2%98%E8%A7%A3/"
    >数字三角形 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        题目传送门
听说这是经典dp
于是乎我用了贪心 记忆搜索
在贴代码之前还是讲一讲吧。
- dp、分治、递归、递推、搜索 的关系 很简单，没有关系 dp 是递推，是搜索的改版，是递归的进化体，是（在死亡的边缘大鹏展翅）分治的体现。
- 详解 水题解 数字三角形 首先排除贪心。
为什么？
看一眼样例吧，的确木有贪心策略。
但是，我们可以使用搜索愉快地玩耍。
那么具体怎么搜索呢？（好问题，我也不知道）
#include&lt;bits/stdc++.h&gt;using namespace std; int r,a[1010][1010],i,j,ans; void dfs(int h,int l,int s){ if(h==r){ ans=max(ans,s); return; } dfs(h+1,l,s+a[h][l]); dfs(h+1,l+1,s+a[h][l]); } int main(){ memset(dp,-1,sizeof(dp)); cin&gt;&gt;r; for(i=0;i&lt;r;i++) for(j=0;j&lt;=i;j++) cin&gt;&gt;a[i][j]; dfs(0,0,0); return 0; } 这就是最水的深搜（爆搜），不给注释了
不用试了，我交过，TLE*4。
 神奇的记忆化 这也很简单。首先记忆化一定满足：
 函数返回值仅与其参数有关 相同参数下的返回值相同 以返回值传递结果 有一个记忆数组（滑稽）  辣么，我们的答案就会要以返回值传递。
具体的思路也很简单，只要 洗洗睡吧其实要改很多 调整一下思路，你就会发现：
答案居然是 max(左边路的最大分数,右边路的最大分数)+自己的数 如果你还要问为什么，我也会 严肃 地回答你：
这里的左边路、右边路不是指一直向左走向右走，是本次左走之后所有的可以走的路（右边也一样）。
所以这也是显而易见的
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E6%95%B0%E5%AD%97%E4%B8%89%E8%A7%92%E5%BD%A2-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2019-08-19 21:47:13 &#43;0800 CST" itemprop="datePublished">2019-08-19</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"> 动态规划 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 132 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 1 minutes </span>
      </p>
    </article></div>
  
<nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
    <ul class="pager pull-left"><li class="prev">
        <a href="/Arahc.github.io/page/3/">
          <i class="icon icon-angle-left"></i>
          
        </a>
      </li>
    </ul>
    <div class="total-article bar-right">
      Page:4/4
    </div>
  </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/Walker_68145" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="http://walker68145.github.io/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2017  -
    2021
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
    
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/C&#43;&#43;.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="http://walker68145.github.io/Arahc.github.io/js/application.min.a94ab19cb63a95c8d7fbd7b85cab3ddeea8c369bdf75b9cab6708787ead123af.js"></script>
<script src="http://walker68145.github.io/Arahc.github.io/js/plugin.min.19c5bcb2fb0789ab4f2b7834e5ceb5e92635645605bab902c1024b25f1502364.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'http:\/\/walker68145.github.io\/Arahc.github.io',
            CONTENT_URL: 'http:\/\/walker68145.github.io\/Arahc.github.io\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="http://walker68145.github.io/Arahc.github.io/js/insight.min.4a2d52de4bfff73e0c688404fe3d17c9a3ae12d9888e1e1ac9c690e4890de2ded50fe55f2b819c2ba55435a76f396f3ea6805765f0b0af5635cdf74ea459eab0.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>

  </body>
</html>
