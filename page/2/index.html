<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
        Arahc&#39;s blog</title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    
    <meta name="generator" content="Hugo 0.91.2 with theme pure" />
    <title>Arahc&#39;s blog</title>
    
    <link rel="alternate" type="application/rss+xml" href="http://walker68145.github.io/Arahc.github.io/index.xml" title="Arahc's blog" />
    
    <link rel="stylesheet" href="http://walker68145.github.io/Arahc.github.io/css/style.min.e64d754037c0ee0ec4e20ab1d6f07740ace61729bc03850559b8caa21ae4a597.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="Arahc&#39;s blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://walker68145.github.io/Arahc.github.io/" />

<meta itemprop="name" content="Arahc&#39;s blog">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Arahc&#39;s blog"/>
<meta name="twitter:description" content=""/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/Walker_68145" target="_blank">
            <img class="img-circle img-rotate" src="http://walker68145.github.io/Arahc.github.io/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">Arahc</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Arahc&#39;s home</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Changsha, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/Arahc.github.io/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/Arahc.github.io/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/Arahc.github.io/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/Arahc.github.io/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/Arahc.github.io/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>博客已经由 Walker_68145.github.io 转移到此处，原页面保留，为此带来的不便请大家谅解。</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div id="tag-cloud-list" class="widget-body">
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link" rel="1">k进制<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/stl/" class="tag-list-link" rel="1">stl<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link" rel="2">二分三分<span
               class="tag-list-count">2</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link" rel="3">分治<span
               class="tag-list-count">3</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link" rel="8">动态规划<span
               class="tag-list-count">8</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link" rel="7">图论<span
               class="tag-list-count">7</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link" rel="1">字符串<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link" rel="10">数学<span
               class="tag-list-count">10</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link" rel="9">数据结构<span
               class="tag-list-count">9</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link" rel="4">暴力<span
               class="tag-list-count">4</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link" rel="1">莫队<span
               class="tag-list-count">1</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link" rel="3">贪心<span
               class="tag-list-count">3</span></a>
            
            
            <a href="http://walker68145.github.io/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link" rel="2">随机化<span
               class="tag-list-count">2</span></a>
            
    </div>
<script>
document.onreadystatechange = () => {
  if (document.readyState === 'complete') {
    tagCloud('#tag-cloud-list a',  8 ,  20 );
  }
};

function tagCloud(where, min, max) {
  let iMax = 0;
  let iMin = 0;
  $(where).each(function() {
    let weight = Number($(this).attr("rel"));
    if(iMax < weight) iMax = weight;
    if(iMin > weight || iMin == 0) iMin = weight;
  });
  let step = (max - min)/(iMax - iMin);
  $(where).each(function() {
    let weight = $(this).attr("rel") - iMin;
    $(this).css({"font-size": min + (weight * step) + 'px'});
  });
};
</script>
</div>

      <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E6%9D%82%E9%A1%B9/" class="category-list-link">杂项</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E7%AC%94%E8%AE%B0/" class="category-list-link">笔记</a><span class="category-list-count">11</span></li>
            <li class="category-list-item"><a href="http://walker68145.github.io/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/" class="category-list-link">题解</a><span class="category-list-count">20</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link">k进制</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/stl/" class="tag-list-link">stl</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link">二分三分</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link">分治</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link">动态规划</a><span
                    class="tag-list-count">8</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link">图论</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link">字符串</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link">数学</a><span
                    class="tag-list-count">10</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link">数据结构</a><span
                    class="tag-list-count">9</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link">暴力</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link">莫队</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link">贪心</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="http://walker68145.github.io/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link">随机化</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/p5633%E6%9C%80%E5%B0%8F%E5%BA%A6%E9%99%90%E5%88%B6%E7%94%9F%E6%88%90%E6%A0%91-%E9%A2%98%E8%A7%A3/" class="title">P5633最小度限制生成树 题解</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-28 21:43:22 &#43;0800 CST" itemprop="datePublished">2021-12-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/%E7%BA%BF%E6%80%A7%E5%9F%BA%E5%85%A5%E9%97%A8/" class="title">线性基入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-22 21:47:24 &#43;0800 CST" itemprop="datePublished">2021-12-22</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/markdown-%E5%85%A5%E9%97%A8/" class="title">Markdown 入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-30 18:41:00 &#43;0800 CST" itemprop="datePublished">2021-11-30</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/oi-%E7%9B%B8%E5%85%B3%E7%9A%84%E9%9D%9E%E5%88%87%E9%A2%98%E5%86%85%E5%AE%B9/" class="title">OI 相关的非切题内容</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-28 21:42:04 &#43;0800 CST" itemprop="datePublished">2021-11-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://walker68145.github.io/Arahc.github.io/posts/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E4%B8%8Ekdtree/" class="title">替罪羊与KDTree</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-25 21:48:19 &#43;0800 CST" itemprop="datePublished">2021-11-25</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    

<main class="main" role="main">
  
  <div class="content article-list">
    
    
    
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E5%B9%B3%E9%9D%A2%E5%9B%BE%E5%88%A4%E5%AE%9A-%E9%A2%98%E8%A7%A3/"
    >平面图判定 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        题目传送门。
定位：2-SAT。
前置知识 平面图 平面图：存在一种或几种方法，将这个图画在平面上，除了点之外，所有边之间没有交点的图。
例如，下面这两个都是平面图，因为前一个图可以拉成后一个的样子：
平面图定理 连通平面图有几个常用的定理：
记一个连通平面图的点数为 $n$，边数为 $m$。
 当 $n\geqslant 3$ 时，有 $m\leqslant 3\times n-6$。 当 $n\geqslant 3$ 时，存在一个点的度数不小于 $5$。  定义一个连通平面图把平面分成的块数为 $k$。如上面这个平面图，$k=6$（算上了最外圈以外的无限大的平面部分）。有：$n-m+k=2$。
平面图有关的更多笔记都会在以后写上。这里先写个大概。
题解 算法 题目简述：
 给定一个无向图，保证存在一条哈密顿回路。判定是否是平面图。$3\leqslant n\leqslant 200,m\leqslant 10^4$。
 存在一条哈密顿回路，不妨把这个回路当成一个圆，然后考虑其他的边。
现在我们的圆已经搞出来了，问题就是圆里面的各种弦有很多的相交。这并不代表圆里面有弦就不是平面图了，因为我们可以把一些边拉在外面。这里相比都能看出把 $AD,AE$ 拉到圆外面去，从圆周外绕过来，这就是个完美的平面图了，但是重要的是怎么让电脑知道要这么拉。
想到如果可以把所有有交点的弦提出来，那么这两个弦是不可能都在圆里了，如果一个在圆外一个在圆里显然可以，两个都在圆外，手玩一下就发现不行。因此就是：弦 $a$ 拉到圆外或弦 $b$ 拉到圆外。转化成 2-SAT 问题的解的存在性判定，迎刃而解。
题目的边数很大，不能直接枚举每条边，但是考虑到平面图的性质，因为 $n\geqslant 3$，所以 $m\leqslant 3\times n-6$，如果大于这个，就一定不是平面图。提前判掉之后，$m$ 就是 $594$ 以内了。可以枚举两个相交的弦，然后跑 2-SAT。
如何判定两个弦相交呢？考虑到在一个环上，按照环的顺序顺时针（或逆时针）编号，如果一个圆按顺序放了 $A,B,C,D$，一个弦连接到 $AC$，一个弦连接到 $BD$，就一定在内侧相交。为什么？左转插头 DP 找证明即可。
至此这道题就做完了。代码如下：
代码 #include&lt;bits/stdc++.h&gt;using namespace std; const int max_n=20005,max_m=2000006; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&lt;&#39;0&#39; || c&gt;&#39;9&#39;) w|=c==&#39;-&#39;,c=getchar(); while(c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); return w?
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E5%B9%B3%E9%9D%A2%E5%9B%BE%E5%88%A4%E5%AE%9A-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-10-03 21:44:19 &#43;0800 CST" itemprop="datePublished">2021-10-03</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/"> 图论 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 275 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 2 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8/"
    >图论入门</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        图论是信息学竞赛中永远不失特色的一种算法集合。最常见也是相对简单的有：最短路，最小生成树，拓扑排序，部分树上的问题。此外还有深造一些的，如网络流，Tarjan 等。
图的结构 一个图由若干个点和连接点的若干个边组成。点的集合记作 $V$，边的集合记作 $E$，后文若无特殊说明，点集大小是 $n$，边集大小是 $m$。
边有不定向和定向两种。都不定向的图叫无向图，都定向的是有向图，有的定向有的不定向的是混合图。一般情况下，混合图和无向图可以转化为有向图的问题求解。无向图上任意两点之间都有连边的是完全图。
无向图中，所有点之间如果所有点互相可达，叫做无向连通图。有向图中若所有点互相可达，叫强连通图；若所有的有向边改为无向边后，原图变为连通图，则称作弱连通图。一般情况下，连通图在无向图上指无向连通图，在有向图上指强连通图。
树是只有 $n-1$ 条边的连通图，一般是无向的，但是可以人为定向，比如根节点到叶子，或叶子到根。
DAG 也就是有向无环图，环的意思就顾名思义就行。
分层图是一类图，一般是有向图。可以把图分成很多层，各层之间只能由一层的点到达另一层的点，不能回来，且不能跨层连边。一般把没有别的点可以来的那一层叫做第一层，由第一层来到第二层，到第三层……分层图的分层标准一般不是很严格，题目也不会直接丢出来一个分层图，而是要自己建模建分层图。
二分图是一种可以分成两部分的图，满足没有边连接两个同一部分的点。竞赛图是将无向完全图中的每个边定向之后得到的图。
平面图是一种可以画在平面上的图，其中除了每个点之外，所有边都没有交点的图。例如下面两个就是平面图，其中第一个可以画成第二个的形式：
基础 因为过于基础，基本都是简单带过，不过也会有例题。
图的存储 常见的存图方法有：边目录，邻接矩阵，邻接表，链式前向星。比较常用的三个是边目录、邻接矩阵、链式前向星。
边目录主要出现在最小生成树的算法中。存储方法是直接开一个结构体，记录一条边的起点终点边权等信息。当你对边有优先级要求的时候，一般会先用边目录存下来，然后按照某个优先规则排序。
邻接矩阵常用在点数较小的题目里面，方法是开一个二维数组表示边 $(i,j)$ 的权值或之类信息。在 floyd 最短路里比较常见。
链式前向星是最常用的存储方法，我一般写成这样：
struct graph{ int hd[max_n],nx[max_n],to[max_n],ct; graph(){ct=1;} // 初始化为 1，这样 i^1 就是 i 的反边 	inline void clear(){ ct=1, memset(hd,0,sizeof(hd)); } inline void add(int u,int v){ nx[++ct]=hd[u],hd[u]=ct,to[ct]=v; } }e; 值得注意的是，链式前向星存储后，遍历的时候（i=hd[u];i;i=nx[i]）是按照加边顺序的逆序遍历的。在初赛题目中可能会用到。
最短路 常见的最短路算法有（简写） BF，Dij，SPFA，Floyd，Jon。有的名字比较长我就用了简写。Jon 算法适用于预处理之后多次询问较快地求最短路，Dij 非常常用，是没有负边的时候求最短路，基于贪心，复杂度是 $(n+m)\log(n+m)$，不用 Dij 的时候一般是 SPFA，最慢是 $nm$ 的，但可以处理负权，Floyd 用到了动态规划的思想，可以经过改造后做很多图论。
  例题：在一张 $n$ 个点的带权完全图上，依次删掉 $x_1,x_2,\cdots,x_n$ 这些点，每次删掉一个点前，输出当前图存在的点两两之间最短路长度之和。$n\leqslant 500$。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8/" class="">
  <time datetime="2021-09-20 21:48:46 &#43;0800 CST" itemprop="datePublished">2021-09-20</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E7%AC%94%E8%AE%B0/"> 笔记 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/"> 图论 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 1058 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 5 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E5%8F%AB%E8%8B%A6%E4%B8%8D%E8%BF%AD-%E9%A2%98%E8%A7%A3/"
    >叫苦不迭 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        题意描述： 给定一个 $n$ 个点的森林，每个点上有 $a_i$ 个虫子，种类为编号为 $[1,a_i]$ 的种类里各一个，都是第一代虫子。每一代虫子中，种类为 $i$ 的活虫子会造成 $\varphi(i)$ 的贡献，然后对于每一个虫子，设其种类为 $i$，种类为 $j$，都会繁殖一个种类为 $\frac{i(j+1)}{j}$ 的虫子，是原虫子的下一代，然后原虫子会消亡。代数超过 $k$ 的虫子不再造成贡献。有 $m$ 次操作，每次操作为删掉并添加一条边（保证还是森林结构）或查询 $(u,v)$ 路径上所有点上的所有代虫子造成的贡献和。
$n,m\leqslant 10^5,k\leqslant a_i\leqslant 10^5$。
题解 注：$n,m,k,a_i$ 都同级，后文为了简便分析复杂度全部用 $n$ 算。 sigma 里面没有标明下界的都是 $1$ 开始，别杠了别杠了孩子怕了。
算法定位：数论，LCT，树链剖分（+线段树），其中正解是 LCT，部分分是数链剖分，数论是主体部分，主要是欧拉函数和莫比乌斯函数。大概难度定位：紫或黑。
暴力分数（0-10） 对于每次询问，枚举每个点的贡献，计算贡献就是直接一代一代算，且欧拉函数用 $\sqrt{n}$ 的方法进行。复杂度 $n^5\sqrt{n}$。有 $5$ 分。
将欧拉函数求法改为线性筛（如下代码），可以 $\operatorname{\Theta}(k)$ 预处理，$\operatorname{O}(1)$ 查询欧拉函数值，复杂度优化为 $n^5$，算上前面的分数档一共可以得到 $10$ 分。
inline void getphi(){ // 预处理欧拉函数，存在 phi[] 里 	memset(isprime,1,sizeof(isprime)); phi[1]=1,isprime[1]=0; for(register int i=2;i&lt;=n;++i){ if(isprime[i]){ phi[i]=i-1; prime[++cnt]=i; } for(register int j=1;j&lt;=cnt &amp;&amp; i*prime[j]&lt;=n;++j){ isprime[i*prime[j]]=0; if(i%prime[j]==0){ phi[i*prime[j]]=phi[i]*prime[j]; break; } else phi[i*prime[j]]=phi[i]*(prime[j]-1); } } } 低档分数（10-20） 考虑前一代和后一代的种类的关系。假设前一代的种类是 $i_n$，代数是 $j_n$，后一代变成了 $i_{n+1}$ 和 $j_{n+1}$，有：
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E5%8F%AB%E8%8B%A6%E4%B8%8D%E8%BF%AD-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-09-20 12:43:45 &#43;0800 CST" itemprop="datePublished">2021-09-20</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> 数据结构 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/"> 数学 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 431 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 3 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/"
    >LaTeX 数学公式</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        前言规定  本文采取分类目录的方式记录，也就是博客左边的那个目录，可以在里面找你要找的公式内容。 为了方便，如果代指任意一个数学式子或公式或变量名等时，用“公式”的英文 formula 表示。 上面是对应字符，下面是插入方法。 operatorname 不会特殊介绍，只要知道格式是把某个东西写成一个函数的方法就行，一般用于最小公倍数，就是 $\operatorname{lcm}$，因为没有自带的这个函数，所以写成 \operatorname{lcm} 不会介绍字体和颜色。  插入公式方法和原则 对于一行里面你要插入一个公式，叫做行内公式，直接使用 $formula$ 的形式插入，比如下面一段文字：
这个方程式还是不难优化的，显然有 $f_i=s_{i_1}+a_i$。
这个方程式还是不难优化的，显然有 $f_i=s_{i_1}+a_i$。 对于插入一个单独占据一行的公式，将 $formula$ 替换为 $$formula$$，注意如果要插入单行公式，那么在写的时候这个公式也要单独换一行，不能和别的东西混在一行。比如下面一段文字：
这个方程式还是不难优化的，显然有： $$f_i=s_{i_1}+a_i$$
 这个方程式还是不难优化的，显然有： $$f_i=s_{i_1}+a_i$$ 原则上，使用 $\LaTeX$ 的行内公式时，如果公式前后有字，会在前后加一个空格，如果公式前后有标点，一般不加空格，例如上面的行内公式的例子，因为公式前面是汉字，所以加了一个空格，后面是标点，公式后面没有加空格隔开公式和标点，如果不是中文标点是英文标点，按照你自己的个人审美决定加不加就行。
一般，变量（如 $a$）、式子（如 $1+1&gt;1$）这些，会用 $\LaTeX$ 来表示，但是一个英文名（如 LeaF）、一个英文算法（如 BSGS）、中文（这个括号里面的字就是例子）不使用 $\LaTeX$ 来表示。
虽然有许多博客和题解都在用 $\LaTeX$ 写一些程序语言，包括但不限于 $k[i]=(a[i]+b[i])%p,x==y,s_i=s_{i-1}+a_i,c=(c&laquo;3)$，但并不提倡这么做。一般提倡在 $\LaTeX$ 里写公式都用数学语言，以上三个错误示范用数学语言表达应该是：
$$k_i=(a_i+b_i)\bmod{p},x=y,s_i\gets s_{i-1}+a_i,c\gets c\times 2^3$$
此外还有，所有能用 $\LaTeX$ 公式表示的东西，比如最大公约数函数和最小值函数，都用 $\LaTeX$ 公式表示为佳，即表示为 $\gcd, \min$（自带的函数）而不是 $gcd, min$（用 $\LaTeX$ 但没有用自带函数的表示而是直接写字母）也不是 gcd, min（没有 $\LaTeX$）。
一般情况下，普通的分数 frac 太小了，建议使用大型分数 dfrac。同时不推荐在严谨的博客（如题解，学习笔记）加入过多颜色内容。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/" class="">
  <time datetime="2021-09-18 21:40:08 &#43;0800 CST" itemprop="datePublished">2021-09-18</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E6%9D%82%E9%A1%B9/"> 杂项 </a>
</span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 920 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 5 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/2021%E5%85%A8%E7%9C%9F%E6%A8%A1%E6%8B%9F/"
    >2021全真模拟</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        总结 考试策略 T1 $n^2$ 暴力显然，因为好写而且没有想到正解所以直接跳过。T2 因为题意一直在强调几个东西，把这些当做状态就切掉了。仔细阅读 T3 之后没有好想法，所以回到 T1，想到一种正解。写了三分查找，过了大样例后时间剩余不多，紧急回头写 T3 暴力与骗分。
结果反思 T1：期望得分 $100$，实际得分 $35$，三分查找挂掉了。代码实现能力需加强。
T2：期望得分 $100$，实际得分 $100$。
T3：期望得分 $5$，实际得分 $0$。没骗到分，题目不会属于个人能力问题。
题解 T1：斯  给定两个长度为 $n$ 的实数序列 $a,b$。对于任意一个序列的任意一个数，你都可以用 $1$ 的代价标记这个数。记 $a$ 序列标记的数之和为 $s_a$，$b$ 序列标记的数之和为 $s_b$。你的到的收益为 $\min(sa,sb)$ 减去花费的代价。求收益最大值。$n\leqslant 10^5,1\leqslant a_i,b_i\leqslant 10$。
 考虑到选择一个数的代价都是 $1$。那么对于属于同一序列的数，显然优先选择数值更大的。本题的重点就是显然不能全部选择，因为代价随选择个数线性增长，可能选到后面就有些入不敷出。因为一定优先选择最大的，所以不妨先给 $a,b$ 按大到小排个序，此时一个符合贪心策略的选择方案就是在 $a$ 数组选前若干个，$b$ 数组选前若干个。
因为是选择前若干个，还可以用前缀和跑一下，记录 $sa_i=\sum_{j=1}^i a_j$，$sb_i=\sum_{j=1}^i b_j$，题意简化成，确定一个有序二元组 $(i,j)$，使得 $\min(sa_i+sb_j)-(i+j)$ 最大。
还有一点要注意的是因为允许不选择，所以答案一定不会小于 $0$。
不妨假设我们已经确定的二元组中 $i$ 取什么值，考虑求 $j$ 的范围。因为当 $j$ 较小的时候，$\min$ 函数会取到 $sb_j$，因为 $b_i\geqslant 1$，所以 $j$ 每减小 $1$，虽然代价减少了 $1$，但是少选的数的贡献不少于一，整体是不上升的。换句话说此时答案随 $j$ 减小而不升；当 $j$ 较大的时候，$\min$ 函数会取到 $sa_i$，此时 $sb_j$ 再大也无济于事，$j$ 增大只会让代价随之增大。换句话说此时答案随 $j$ 增大而增大。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/2021%E5%85%A8%E7%9C%9F%E6%A8%A1%E6%8B%9F/" class="">
  <time datetime="2021-08-29 21:31:17 &#43;0800 CST" itemprop="datePublished">2021-08-29</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/"> 分治 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"> 动态规划 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/"> 二分三分 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 596 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 3 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/lcp-%E5%92%8C%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/"
    >LCP 和后缀数组</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        前言 后缀数组（SA）是一种可以用于处理字符串后缀有关性质，包括 LCP 等的思想。一般复杂度用 $\operatorname{O}(n\log n)$ 版本，有 $\operatorname{O}(n)$ 版本但相对复杂，码量大。本文讨论的是严格的 $\operatorname{O}(n\log n)$ 的。
后缀自动机（SAM）则是一种强有力的数据结构，用于解决有关字符串的很多东西。一般复杂度是 $\operatorname{O}(n)$ 的。因为写博客的时间原因 SAM 暂时咕着。暂时只讨论 SA。
本文可能出现的部分词语定义如下：
 后缀：字符串 $s$ 的后缀，定义为字符串的某个位置到字符串末尾的子串。特别的，称从第 $i$ 个字符为第一个元素的后缀为第 $i$ 个后缀。 前缀：基本同后缀，只是定义为从字符串第一个字符到某个位置的子串。 后缀的排名：定义第 $i$ 个后缀的排名，为字符串所有后缀按字典序排序后，第 $i$ 个后缀的排名。 LCP：定义 $\operatorname{LCP}(i,j)$ 为一个字符串排名为 $i$ 的后缀和排名为 $j$ 的后缀的最长公共前缀，有时只最长公共前缀长度，本文也是如此，有的地方指最长公共前缀，有的地方指最长公共前缀长度。 字符串的大小关系：两个字符串比较大小，默认是比较字典序谁先谁后。  此外，在后文中，如果没有特殊定义，则 $s$ 表示需要处理的字符串，$n=\left| s\right|$，即 $s$ 的串长，下标从 $1$ 开始编号。
LCP 的性质与引理 根据 LCP 的定义，有这样两个显然的性质：
 $\operatorname{LCP}(i,j)=\operatorname{LCP}(j,i)$ 记 $len_i$ 表示排名为 $i$ 的后缀的长度，有 $\operatorname{LCP}(i,i)=len_i$。  这样，计算 LCP 时，对于 $i&gt;j$ 的情况，可以转化为 $i&lt;j$ 的情况做。对于 $i=j$ 的情况，直接用 $sa_i$ 算就行。简化了代码实现的复杂程度。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/lcp-%E5%92%8C%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/" class="">
  <time datetime="2021-08-28 10:40:36 &#43;0800 CST" itemprop="datePublished">2021-08-28</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E7%AC%94%E8%AE%B0/"> 笔记 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"> 字符串 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 577 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 3 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/cf1553%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/"
    >CF1553部分题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        前言 这一会 CF1553 的 vp 截取的是 DEFG 四道题目，因为 AC 两题我也做出来了，所以会放在一起。另外有一个 B 算法显然。因此本次题解包含 CF1553-ACDEFG 的解释加代码，以及 CF1553-B 的口胡。
总结 考试策略 CF 当天的考试写出了 AC，B 算法非常显然，也知道怎么做但是并没有写，因为看错数据范围了以为过不去。后面的时间一直在写 F 但是写不出来。vp 的时候第一个就去做 F，随后开始写 D，写完 D 后口胡出 G 的算法但是没来得及写了。E 是考后看题解知道的算法。
自我感觉整体策略还行，但是有一些瑕疵，比如看错数据范围之类，因为“个人恩怨”选择先写 F，放着别的题不管。
目前 vp 涉及的题目 DEFG 已经全部改对。
问题 看错数据范围错失良机。以及推演题目的过程较慢，严重拖慢了时间。实际上本来不需要这么慢。
打 vp 的时候尤其凸显。而且因为个人对一道题的兴趣和本来没做出来的怒气决定先做 F 这样一个恶心数论，而没有选择从最简单的 D 开始入手击破，是最大的问题所在。考场上不宜使用。
同时因为打 cf 的时候老师提出来了，特此注意：打 cf 的时候不要只拘泥于 ABC 这样的题目，否则能力无法得到训练，要多尝试往上走的难题，得到真正的训练，而不是划水试地做完一些是个人都会的签到题就不管了。
题解 CF1553A  定义 $\operatorname{S}(x)$ 为 $x$ 在十进制下各位数字之和。共 $T$ 次询问，每次询问给定一个数 $n$，求有多少不超过 $n$ 的正整数满足 $\operatorname{S}(x)&gt;\operatorname{S}(x+1)$。$T\leqslant 10^3,n\leqslant 10^9$。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/cf1553%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-08-15 21:33:57 &#43;0800 CST" itemprop="datePublished">2021-08-15</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/"> 贪心 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/"> 数学 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/"> 暴力 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 1096 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 6 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/%E5%85%A8%E7%9C%9F%E6%A8%A1%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/"
    >全真模部分题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        考试策略： 比较不行，前面花了太多时间在 T1 上，实际上最后个人感觉 T1 最难。T2 类似于一个猜结果后证明的东西，考虑到数据范围，必然网络流二分图动态规划三选一。因为个人动态规划水平不太好，优先考虑网络流做法没想出来，又因为想到网格图一定是二分图，所以尝试用二分图的角度解释必胜方式，从而证明正确性。T3 因为以前同学讲点分治的时候提到过：
 点分治可以用来处理树上路径长度有关的奇特问题，包括刚好等于的，L 到 R 之间的，一个倍数的……
 看到“长度-最大值”为倍数的时候直接定档点分治，但是因为 T1 耗时间太多没有时间打。最后 T1T3 暴力写挂没有捞到分，总分只由 T2 AC 的 100 分。
问题所在和反思 T1 最开始想到点分治。显然过于草率被题目的“区间范围”误导了。是缺乏经验的表现。后来及时发现应该使用dsu on tree更好地维护本题。但是没有考虑到不从这个子树的根出发的路径的情况，这一发直接把我送走，考场上改到 11 点放弃了，晚上改到 2 点（刚刚终于 A 了，才开始写总结）
T2 我承认找到正解有一定的运气成分。如果我很自信地认为我的 DP 很好，说不定我会更加往博弈论 DP 的方向想，而不会发现二分图最大匹配的做法。代码实现方面比较混乱，一定程度上造成调试困难。
T3 是裸的点分治。我在做题记录里写到点分治是一个好写难调的做法。改题的时候再一次验证了这个观点，需要实现的细节繁多。属于典型的“在考场上我就算知道这题正解我也不会马上干这个题”的类型。
用通俗的网络流行语总结，就叫做一切恐惧来源于火力不足，网络流和二分图题单上我几乎已经做完了所以很熟悉，但是点分治和 dsu，题单上这类题较少，练习不多，更容易出错，会对这类算法产生一种“No I can&rsquo;t”的心理。直接导致 T3 我知道正解但是还是 0 分的惨案。
题解 T1，看门狗（watchdog）  给定一个大小为 $n$ 的有根树，$1$ 为根。每个节点有权值 $l,r$ 表示一个边数区间，边有边权，对于每一个子树，求经过这个子树的根节点的所有边数在子树根节点边数区间内的简单路径中的最大边权和。时间限制 4s，$n\leqslant 10^6$，边权为不超过 $10^9$ 的非负整数。
 第一眼看到区间范围，树上求一条路径的属性，容易联想到点分治。但是实际而言，权值范围过大，点分治不能很好地实现。考虑到时间限制为 $4$s，可以放跑一些 $n\log^2 n$ 的做法。因为边权一定是非负整数，所以对于同一条路径，向外延伸边数越多，权值一定不降。
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/%E5%85%A8%E7%9C%9F%E6%A8%A1%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-08-12 21:45:39 &#43;0800 CST" itemprop="datePublished">2021-08-12</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/"> 分治 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> 数据结构 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/"> 图论 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 991 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 5 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/"
    >CF1557和CF1530部分题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        前言 CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。
CF1557 四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。
CF1557A  给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。
 考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：
$$a_1+\dfrac{\sum_{i=2}^n a_n}{n-1}$$
考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。
因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。
代码如下：
#include&lt;cstdio&gt;#include&lt;string.h&gt;#include&lt;iostream&gt;#define int long long const int max_n=100005; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&lt;&#39;0&#39; || c&gt;&#39;9&#39;) w|=c==&#39;-&#39;,c=getchar(); while(c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;) x=(x&lt;&lt;1)+(x&lt;&lt;3)+(c^48),c=getchar(); return w?-x:x; } inline void write(int x){ if(x&lt;0) x=-x,putchar(&#39;-&#39;); if(x&gt;9) write(x/10); putchar(x%10^48); } inline int min(int a,int b){return a&lt;b?a:b;} inline int max(int a,int b){return a&gt;b?
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-08-10 12:35:19 &#43;0800 CST" itemprop="datePublished">2021-08-10</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/"> 贪心 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> 数据结构 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"> 动态规划 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/"> 数学 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 1093 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 6 minutes </span>
      </p>
    </article>
    <article
      class="article article-type-page"
      itemscope
      itemtype="http://schema.org/BlogPosting"
    >
      <div class="article-header">
        <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/rmqproblem-%E9%A2%98%E8%A7%A3/"
    >RmqProblem 题解</a
  >
</h1>

      </div>
      <div class="article-entry text-muted" itemprop="description">
        题目大意 题目传送门
给定一个静态区间，有多次询问，每次询问查询一段区间 $[l,r]$ 的 $\operatorname{mex}$。（一个区间的 $\operatorname{mex}$ 为最小的没有出现在这个区间的数字中的自然数）
题目大意一句话可还行
$1\leqslant n,m\leqslant 2\times 10^5$，值域与 $n,m$ 相同。
题目分析 暴力求解 考虑到本题的数据范围整体较小，可以使用莫队进行。不带修的莫队的复杂度约为 $\operatorname{O}(n\sqrt{n})$ 的，但是还要乘上一个求 $\operatorname{mex}$ 的复杂度。
如果我们打出这样的代码：
inline void add(int pos){ ++cnt[a[pos]]; // cnt 表示这个数字出现的次数，a 是原数组 } inline void del(int pos){ --cnt[a[pos]]; } inline int mex(){ // O(n) 跑一遍暴力求mex 	for(register int i=0;i&lt;=max_n;++i) if(cnt[i]&lt;=0) return i; return max_n+1; // 不会超过值域，所以可以这么写 } inline void moque(){ sort(q+1,q+1+m,cmp1); // cmp1：按照莫队的排序方法排序  int l=1,r=0; for(register int i=1;i&lt;=m;++i){ // 莫队板子 	int ql=q[i].
      </div>
      <p class="article-meta">
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="http://walker68145.github.io/Arahc.github.io/posts/rmqproblem-%E9%A2%98%E8%A7%A3/" class="">
  <time datetime="2021-08-02 21:46:14 &#43;0800 CST" itemprop="datePublished">2021-08-02</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/"> 莫队 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/"> k进制 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 491 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 3 minutes </span>
      </p>
    </article></div>
  
<nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
    <ul class="pager pull-left"><li class="prev">
        <a href="/Arahc.github.io/">
          <i class="icon icon-angle-left"></i>
          
        </a>
      </li><li class="next">
        <a href="/Arahc.github.io/page/3/">
          <i class="icon icon-angle-right"></i>
          
        </a>
      </li>
    </ul>
    <div class="total-article bar-right">
      Page:2/4
    </div>
  </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/Walker_68145" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="http://walker68145.github.io/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2017  -
    2021
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
    
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/C&#43;&#43;.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="http://walker68145.github.io/Arahc.github.io/js/application.min.a94ab19cb63a95c8d7fbd7b85cab3ddeea8c369bdf75b9cab6708787ead123af.js"></script>
<script src="http://walker68145.github.io/Arahc.github.io/js/plugin.min.19c5bcb2fb0789ab4f2b7834e5ceb5e92635645605bab902c1024b25f1502364.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'http:\/\/walker68145.github.io\/Arahc.github.io',
            CONTENT_URL: 'http:\/\/walker68145.github.io\/Arahc.github.io\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="http://walker68145.github.io/Arahc.github.io/js/insight.min.4a2d52de4bfff73e0c688404fe3d17c9a3ae12d9888e1e1ac9c690e4890de2ded50fe55f2b819c2ba55435a76f396f3ea6805765f0b0af5635cdf74ea459eab0.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>

  </body>
</html>
