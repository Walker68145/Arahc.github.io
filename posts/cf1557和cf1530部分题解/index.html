<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
        CF1557和CF1530部分题解 - Arahc&#39;s blog
      </title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    <meta name="description" content="前言 CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。
CF1557 四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。
CF1557A  给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。
 考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：
$$a_1&#43;\dfrac{\sum_{i=2}^n a_n}{n-1}$$
考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。
因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。
代码如下：
#include&amp;lt;cstdio&amp;gt;#include&amp;lt;string.h&amp;gt;#include&amp;lt;iostream&amp;gt;#define int long long const int max_n=100005; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&amp;lt;&amp;#39;0&amp;#39; || c&amp;gt;&amp;#39;9&amp;#39;) w|=c==&amp;#39;-&amp;#39;,c=getchar(); while(c&amp;gt;=&amp;#39;0&amp;#39; &amp;amp;&amp;amp; c&amp;lt;=&amp;#39;9&amp;#39;) x=(x&amp;lt;&amp;lt;1)&#43;(x&amp;lt;&amp;lt;3)&#43;(c^48),c=getchar(); return w?-x:x; } inline void write(int x){ if(x&amp;lt;0) x=-x,putchar(&amp;#39;-&amp;#39;); if(x&amp;gt;9) write(x/10); putchar(x%10^48); } inline int min(int a,int b){return a&amp;lt;b?a:b;} inline int max(int a,int b){return a&amp;gt;b?" />
    <meta name="generator" content="Hugo 0.91.2 with theme pure" />
    <title>CF1557和CF1530部分题解 - Arahc&#39;s blog</title>
    
    
    <link rel="stylesheet" href="https://walker68145/Arahc.github.io/css/style.min.e64d754037c0ee0ec4e20ab1d6f07740ace61729bc03850559b8caa21ae4a597.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="CF1557和CF1530部分题解" />
<meta property="og:description" content="前言 CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。
CF1557 四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。
CF1557A  给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。
 考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：
$$a_1&#43;\dfrac{\sum_{i=2}^n a_n}{n-1}$$
考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。
因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。
代码如下：
#include&lt;cstdio&gt;#include&lt;string.h&gt;#include&lt;iostream&gt;#define int long long const int max_n=100005; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&lt;&#39;0&#39; || c&gt;&#39;9&#39;) w|=c==&#39;-&#39;,c=getchar(); while(c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;) x=(x&lt;&lt;1)&#43;(x&lt;&lt;3)&#43;(c^48),c=getchar(); return w?-x:x; } inline void write(int x){ if(x&lt;0) x=-x,putchar(&#39;-&#39;); if(x&gt;9) write(x/10); putchar(x%10^48); } inline int min(int a,int b){return a&lt;b?a:b;} inline int max(int a,int b){return a&gt;b?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://walker68145/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-10T12:35:19+08:00" />
<meta property="article:modified_time" content="2021-08-10T12:35:19+08:00" />

<meta itemprop="name" content="CF1557和CF1530部分题解">
<meta itemprop="description" content="前言 CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。
CF1557 四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。
CF1557A  给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。
 考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：
$$a_1&#43;\dfrac{\sum_{i=2}^n a_n}{n-1}$$
考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。
因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。
代码如下：
#include&lt;cstdio&gt;#include&lt;string.h&gt;#include&lt;iostream&gt;#define int long long const int max_n=100005; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&lt;&#39;0&#39; || c&gt;&#39;9&#39;) w|=c==&#39;-&#39;,c=getchar(); while(c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;) x=(x&lt;&lt;1)&#43;(x&lt;&lt;3)&#43;(c^48),c=getchar(); return w?-x:x; } inline void write(int x){ if(x&lt;0) x=-x,putchar(&#39;-&#39;); if(x&gt;9) write(x/10); putchar(x%10^48); } inline int min(int a,int b){return a&lt;b?a:b;} inline int max(int a,int b){return a&gt;b?"><meta itemprop="datePublished" content="2021-08-10T12:35:19+08:00" />
<meta itemprop="dateModified" content="2021-08-10T12:35:19+08:00" />
<meta itemprop="wordCount" content="1093">
<meta itemprop="keywords" content="贪心,数据结构,动态规划,数学," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CF1557和CF1530部分题解"/>
<meta name="twitter:description" content="前言 CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。
CF1557 四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。
CF1557A  给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。
 考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：
$$a_1&#43;\dfrac{\sum_{i=2}^n a_n}{n-1}$$
考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。
因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。
代码如下：
#include&lt;cstdio&gt;#include&lt;string.h&gt;#include&lt;iostream&gt;#define int long long const int max_n=100005; inline int read(){ int x=0;bool w=0;char c=getchar(); while(c&lt;&#39;0&#39; || c&gt;&#39;9&#39;) w|=c==&#39;-&#39;,c=getchar(); while(c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;) x=(x&lt;&lt;1)&#43;(x&lt;&lt;3)&#43;(c^48),c=getchar(); return w?-x:x; } inline void write(int x){ if(x&lt;0) x=-x,putchar(&#39;-&#39;); if(x&gt;9) write(x/10); putchar(x%10^48); } inline int min(int a,int b){return a&lt;b?a:b;} inline int max(int a,int b){return a&gt;b?"/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/Walker_68145" target="_blank">
            <img class="img-circle img-rotate" src="https://walker68145/Arahc.github.io/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">Arahc</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Arahc&#39;s home</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Changsha, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/Arahc.github.io/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/Arahc.github.io/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/Arahc.github.io/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/Arahc.github.io/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/Arahc.github.io/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>博客已经由 Walker_68145.github.io 转移到此处，原页面保留，为此带来的不便请大家谅解。</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div id="tag-cloud-list" class="widget-body">
            
            
            <a href="https://walker68145/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link" rel="1">k进制<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/stl/" class="tag-list-link" rel="1">stl<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link" rel="2">二分三分<span
               class="tag-list-count">2</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link" rel="3">分治<span
               class="tag-list-count">3</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link" rel="8">动态规划<span
               class="tag-list-count">8</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link" rel="7">图论<span
               class="tag-list-count">7</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link" rel="1">字符串<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link" rel="10">数学<span
               class="tag-list-count">10</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link" rel="9">数据结构<span
               class="tag-list-count">9</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link" rel="4">暴力<span
               class="tag-list-count">4</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link" rel="1">莫队<span
               class="tag-list-count">1</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link" rel="3">贪心<span
               class="tag-list-count">3</span></a>
            
            
            <a href="https://walker68145/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link" rel="2">随机化<span
               class="tag-list-count">2</span></a>
            
    </div>
<script>
document.onreadystatechange = () => {
  if (document.readyState === 'complete') {
    tagCloud('#tag-cloud-list a',  8 ,  20 );
  }
};

function tagCloud(where, min, max) {
  let iMax = 0;
  let iMin = 0;
  $(where).each(function() {
    let weight = Number($(this).attr("rel"));
    if(iMax < weight) iMax = weight;
    if(iMin > weight || iMin == 0) iMin = weight;
  });
  let step = (max - min)/(iMax - iMin);
  $(where).each(function() {
    let weight = $(this).attr("rel") - iMin;
    $(this).css({"font-size": min + (weight * step) + 'px'});
  });
};
</script>
</div>

      <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://walker68145/Arahc.github.io/categories/%E6%9D%82%E9%A1%B9/" class="category-list-link">杂项</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="https://walker68145/Arahc.github.io/categories/%E7%AC%94%E8%AE%B0/" class="category-list-link">笔记</a><span class="category-list-count">11</span></li>
            <li class="category-list-item"><a href="https://walker68145/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/" class="category-list-link">题解</a><span class="category-list-count">20</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/k%E8%BF%9B%E5%88%B6/" class="tag-list-link">k进制</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/stl/" class="tag-list-link">stl</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E4%BA%8C%E5%88%86%E4%B8%89%E5%88%86/" class="tag-list-link">二分三分</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E5%88%86%E6%B2%BB/" class="tag-list-link">分治</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="tag-list-link">动态规划</a><span
                    class="tag-list-count">8</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E5%9B%BE%E8%AE%BA/" class="tag-list-link">图论</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="tag-list-link">字符串</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/" class="tag-list-link">数学</a><span
                    class="tag-list-count">10</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="tag-list-link">数据结构</a><span
                    class="tag-list-count">9</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E6%9A%B4%E5%8A%9B/" class="tag-list-link">暴力</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E8%8E%AB%E9%98%9F/" class="tag-list-link">莫队</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/" class="tag-list-link">贪心</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://walker68145/Arahc.github.io/tags/%E9%9A%8F%E6%9C%BA%E5%8C%96/" class="tag-list-link">随机化</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://walker68145/Arahc.github.io/posts/p5633%E6%9C%80%E5%B0%8F%E5%BA%A6%E9%99%90%E5%88%B6%E7%94%9F%E6%88%90%E6%A0%91-%E9%A2%98%E8%A7%A3/" class="title">P5633最小度限制生成树 题解</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-28 21:43:22 &#43;0800 CST" itemprop="datePublished">2021-12-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://walker68145/Arahc.github.io/posts/%E7%BA%BF%E6%80%A7%E5%9F%BA%E5%85%A5%E9%97%A8/" class="title">线性基入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-12-22 21:47:24 &#43;0800 CST" itemprop="datePublished">2021-12-22</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://walker68145/Arahc.github.io/posts/markdown-%E5%85%A5%E9%97%A8/" class="title">Markdown 入门</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-30 18:41:00 &#43;0800 CST" itemprop="datePublished">2021-11-30</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://walker68145/Arahc.github.io/posts/oi-%E7%9B%B8%E5%85%B3%E7%9A%84%E9%9D%9E%E5%88%87%E9%A2%98%E5%86%85%E5%AE%B9/" class="title">OI 相关的非切题内容</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-28 21:42:04 &#43;0800 CST" itemprop="datePublished">2021-11-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://walker68145/Arahc.github.io/posts/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E4%B8%8Ekdtree/" class="title">替罪羊与KDTree</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2021-11-25 21:48:19 &#43;0800 CST" itemprop="datePublished">2021-11-25</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">Catalogue</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/"
    >CF1557和CF1530部分题解</a
  >
</h1>

      <div class="article-meta">
        
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="https://walker68145/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" class="article-date">
  <time datetime="2021-08-10 12:35:19 &#43;0800 CST" itemprop="datePublished">2021-08-10</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/Arahc.github.io/categories/%E9%A2%98%E8%A7%A3/"> 题解 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E8%B4%AA%E5%BF%83/"> 贪心 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> 数据结构 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"> 动态规划 </a>
    <a class="article-tag-link" href="/Arahc.github.io/tags/%E6%95%B0%E5%AD%A6/"> 数学 </a>
  </span>

		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 1093 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Time: 6 minutes </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <h2 id="前言">前言</h2>
<p>CF1557 是第一场 VP 前一天晚上的比赛。CF1530 是第一场 VP，题目没有全部做完。这里把我写了代码或者从同学那里学习的算法放上来，以供参考。</p>
<h2 id="cf1557">CF1557</h2>
<p>四题，A-D，E 是个交互题很有意思，有时间会去做，做完补在这里。</p>
<h3 id="cf1557a">CF1557A</h3>
<blockquote>
<p>给定一个序列，将这个序列分成两个子序列。使得两个子序列的所有数的平均数之和最大。求最大值。$n\leqslant 3\times 10^5$。</p>
</blockquote>
<p>考虑贪心的做法。把最大的那个数单独放起来，其他的所有数放在一起。假定数组已经小到大排序好，最大的为 $a_1$，答案则为：</p>
<p>$$a_1+\dfrac{\sum_{i=2}^n a_n}{n-1}$$</p>
<p>考虑证明：首先如果同时存在多个最大值，把几个最大值放在一起显然不行，因为这些最大值造成的贡献为 $0$，反而放在另外一组可以把较小的数平均值拉上来；如果将最大值和别的数字放在一起，对于这一个序列而言，别的数字造成了负贡献，但是因为最大值在这个序列，另一个序列无论如何平均值无法超过最大值，从而无法弥补负贡献。</p>
<p>因此最大值单独一组，别的另一组是最优。因为我只关心最大值是什么，不需要排序。整体复杂度 $\operatorname{O}(n)$ 级别，绰绰有余。</p>
<p>代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#define int long long
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">100005</span>;
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){<span style="color:#66d9ef">return</span> a<span style="color:#f92672">&lt;</span>b<span style="color:#f92672">?</span>a:b;}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){<span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b<span style="color:#f92672">?</span>a:b;}

<span style="color:#66d9ef">int</span> n,a[max_n],mx,b;

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		n<span style="color:#f92672">=</span>read(),mx<span style="color:#f92672">=-</span><span style="color:#ae81ff">2000000000</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; <span style="color:#75715e">// 最大值初始化为极小值
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			a[i]<span style="color:#f92672">=</span>read(),mx<span style="color:#f92672">=</span>max(mx,a[i]); <span style="color:#75715e">// O(n) 找最大值，和输入放一起了
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">bool</span> fl<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i){
			<span style="color:#66d9ef">if</span>(a[i]<span style="color:#f92672">==</span>mx <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>fl){ <span style="color:#75715e">// 注意只要放一个最大值，开 fl 记录一下是不是放一个了
</span><span style="color:#75715e"></span>				fl<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
				<span style="color:#66d9ef">continue</span>;
			}
			b<span style="color:#f92672">+=</span>a[i]; <span style="color:#75715e">// 其他的数字放到另一个序列，求和
</span><span style="color:#75715e"></span>		}
		<span style="color:#66d9ef">double</span> p<span style="color:#f92672">=</span>mx<span style="color:#f92672">+</span><span style="color:#ae81ff">1.0</span><span style="color:#f92672">*</span>b<span style="color:#f92672">/</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 平均数之和的式子，见上。
</span><span style="color:#75715e"></span>		printf(<span style="color:#e6db74">&#34;%.10lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1557b">CF1557B</h3>
<blockquote>
<p>判断是否存在一个方案，将一个长度为 $n$ 的数组（所有元素各不同）划分成恰好 $k$ 段，使得重新排列这 $k$ 段后使得原数组为严格上升序列。只需要判断可不可以，$k\leqslant n\leqslant 3\times 10^5$。</p>
</blockquote>
<p>因为 $n$ 的数值相对不大，可以用 $\operatorname{O}(n\log n)$ 的做法解决。因为数字范围在 int 之内不好琢磨，很容易想到先离散化。排序后重新编号，使得值域范围为 $[1,n]$。</p>
<p>此时对于某一个 $i$，如果有 $a_{i+1}\neq a_i+1$，说明这两个数直接是缺了东西的，或者这两个数是下降趋势的，显然不可以放在一组。如果相等的话，显然这两个数已经符合题意，可以放在一组。按照这种方法，我们求出要几组。</p>
<p>注意组数是最少需要划分的组数，因为即使两个数最开始就已经符合条件，我还是可以把他们分来，只不过排完序这两个数相对位置不改变。因此只要组数小于等于 $k$，就可以完成，否则不可以完成。</p>
<p>代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#define int long long
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">1000005</span>;
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}

<span style="color:#66d9ef">int</span> n,k,a[max_n];

<span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">data</span>{ <span style="color:#75715e">// 离散化用到的数组
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">int</span> a,d;
}b[max_n];

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp1</span>(data a,data b){
	<span style="color:#66d9ef">return</span> a.a<span style="color:#f92672">&lt;</span>b.a;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp2</span>(data a,data b){
	<span style="color:#66d9ef">return</span> a.d<span style="color:#f92672">&lt;</span>b.d;
}

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		n<span style="color:#f92672">=</span>read(),k<span style="color:#f92672">=</span>read();
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i){
			a[i]<span style="color:#f92672">=</span>read();
			b[i].a<span style="color:#f92672">=</span>a[i],b[i].d<span style="color:#f92672">=</span>i;
		}
		std<span style="color:#f92672">::</span>sort(b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>n,cmp1); <span style="color:#75715e">// 得到每个数大小关系
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			b[i].a<span style="color:#f92672">=</span>i; <span style="color:#75715e">// 重新编号
</span><span style="color:#75715e"></span>		std<span style="color:#f92672">::</span>sort(b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>n,cmp2);
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			a[i]<span style="color:#f92672">=</span>b[i].a; <span style="color:#75715e">// 对原数组重新赋值
</span><span style="color:#75715e"></span>		
		<span style="color:#66d9ef">int</span> cnt<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; <span style="color:#75715e">// 注意这样子统计的是分割数，根据植树问题，一共分成了隔板数+1段
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>n;<span style="color:#f92672">++</span>i)
			<span style="color:#66d9ef">if</span>(a[i]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">!=</span>a[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>])
				<span style="color:#f92672">++</span>cnt;
		<span style="color:#66d9ef">if</span>(cnt<span style="color:#f92672">&lt;=</span>k) puts(<span style="color:#e6db74">&#34;Yes&#34;</span>);
		<span style="color:#66d9ef">else</span> puts(<span style="color:#e6db74">&#34;No&#34;</span>);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1557c">CF1557C</h3>
<blockquote>
<p>求有多少种给一个长度为 $n$ 的序列赋值的方式，满足所有数都是自然数，且严格小于 $2^k$，且满足这个序列所有数的按位与和大于等于异或和。求方案数。$n,k\leqslant 2\times 10^5$。</p>
</blockquote>
<p>考虑到按位与的特性，两个数都是 $1$ 这一位才会是 $1$。而这种情况下这两位异或起来是 $0$。考虑得更全面一些，如果有奇数个 $1$ 的话，这一位与起来和异或和相同；如果有偶数个 $1$ 的话，这一位与起来大于异或和；</p>
<p>从最高位往低位看，显然如果这一位已经比异或和大了，后面的位就不用考虑了，后面乱填有几种做法呢。假设有 $m$ 位可以随便填，那么就有 $2^m$ 种做法。</p>
<p>而这一位在 $n$ 个里面我要保证有奇数个 $1$ 或者偶数个 $1$，不就是组合数？</p>
<p>因此不难推出式子。因为 $n$ 比较小，可以处理阶乘和逆元，卢卡斯定理不需要用。</p>
<p>代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#define int long long
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">200005</span>,mod<span style="color:#f92672">=</span><span style="color:#ae81ff">1000000007</span>;
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">mi</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> p){ <span style="color:#75715e">// 快速幂
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">int</span> res<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
	<span style="color:#66d9ef">while</span>(p){
		<span style="color:#66d9ef">if</span>(p<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>) res<span style="color:#f92672">*=</span>a,res<span style="color:#f92672">%=</span>mod;
		a<span style="color:#f92672">*=</span>a,a<span style="color:#f92672">%=</span>mod,p<span style="color:#f92672">&gt;&gt;=</span><span style="color:#ae81ff">1</span>;
	}
	<span style="color:#66d9ef">return</span> res<span style="color:#f92672">%</span>mod;
}

<span style="color:#66d9ef">int</span> jc[max_n],iv[max_n]; <span style="color:#75715e">// jc是阶乘，iv是逆元
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init</span>(){ <span style="color:#75715e">// 预处理
</span><span style="color:#75715e"></span>	jc[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,iv[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">200000</span>;<span style="color:#f92672">++</span>i){
		jc[i]<span style="color:#f92672">=</span>jc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span>i<span style="color:#f92672">%</span>mod;
		iv[i]<span style="color:#f92672">=</span>mi(jc[i],mod<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">%</span>mod;
	}
}

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">C</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">int</span> m){ <span style="color:#75715e">// 组合数
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> (jc[n]<span style="color:#f92672">*</span>iv[m]<span style="color:#f92672">%</span>mod<span style="color:#f92672">*</span>iv[n<span style="color:#f92672">-</span>m]<span style="color:#f92672">%</span>mod<span style="color:#f92672">+</span>mod)<span style="color:#f92672">%</span>mod;
}

<span style="color:#66d9ef">int</span> n,k;

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	init();
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		n<span style="color:#f92672">=</span>read(),k<span style="color:#f92672">=</span>read();<span style="color:#66d9ef">int</span> t<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,ans<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
			t<span style="color:#f92672">+=</span>C(n,i),t<span style="color:#f92672">%=</span>mod;
		<span style="color:#66d9ef">if</span>(n<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>) t<span style="color:#f92672">+=</span>C(n,n),t<span style="color:#f92672">%=</span>mod;
<span style="color:#75715e">// 分奇偶性讨论，因为偶数个1填满和奇数个1填满效果不同
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span>(n<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>){
			ans<span style="color:#f92672">=</span>mi(t,k),ans<span style="color:#f92672">%=</span>mod;
		}
		<span style="color:#66d9ef">else</span>{
			<span style="color:#66d9ef">int</span> tmp<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span>k;i;<span style="color:#f92672">--</span>i){
				ans<span style="color:#f92672">+=</span>tmp<span style="color:#f92672">*</span>C(n,n)<span style="color:#f92672">%</span>mod<span style="color:#f92672">*</span>mi(<span style="color:#ae81ff">2</span>,(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span>n)<span style="color:#f92672">%</span>mod,ans<span style="color:#f92672">%=</span>mod;
				tmp<span style="color:#f92672">*=</span>t,tmp<span style="color:#f92672">%=</span>mod;
			}
			ans<span style="color:#f92672">+=</span>tmp,ans<span style="color:#f92672">%=</span>mod;
		}
		write(ans<span style="color:#f92672">%</span>mod),putchar(<span style="color:#e6db74">&#39;\n&#39;</span>);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1557d">CF1557D</h3>
<blockquote>
<p>给定一个 $n$ 行 $10^9$ 列的 $0-1$ 矩阵，最少要删掉多少行（删掉一行时，上下两行会放在一起），使得任意一行的上面和下面（如果是最上面一行，则只需要和下面；最下面一行同理）都有至少同一列都是 $1$。（$n\leqslant 3\times 10^5$，数据输入以某一行有哪些区间都是 $1$ 的形式给出，区间个数与 $n$ 同级）</p>
</blockquote>
<p>不难想到一个贪心算法，先把最开始连起来的行合并。然后如果这一行上面和下面都接通不了，根据这一行是多少个行合并得到为权值，删除权值小的。</p>
<p>但是这个贪心有较大的问题。例如对于第 $i$ 行，如果第 $i-1$ 行和第 $i+1$ 行有共同的 $1$，且权值上满足 $a_{i-1}\leqslant a_i\leqslant a_{i+1}$，则会删除前两个，实际上删除第 $i$ 行可能更优。</p>
<p>如果一个题很像贪心但是贪心做不出来，就说明这个题大概率是动态规划。</p>
<p>不妨假设 $dp_i$ 表示我当前正在处理前 $i$ 行，且删完后第 $i$ 行是最后一行的最小删除行数。显然它可以从前面的任何一个和 $i$ 有相同列的 $1$ 的行转移过来。但是中间所有的行都要删掉。第 $i$ 行和第 $j$ 行之间（不含边界）有 $i-j-1$ 行。因此有转移方程：</p>
<p>$$dp_i=\min_{j}{dp_j+(i-j-1) \mid \exists k,a_{i,k}=a_{j,k}=1 }$$</p>
<p><del>由于我还没上高中我也不知道可不可以这么写递推式www</del></p>
<p>显然这一波 DP 是 $n^2$ 级别的。考虑优化。这个 DP 优化肯定只能从求最小值下手，一想到动态维护区间最小值，$n\log n$ 复杂度级别允许的话，很快就想到了功能强大的线段树。</p>
<p>因为这个还和 $i$ 有关，看起来很棘手，但是发现 $i$ 是可以提出来的。也就是说原转移方程为：</p>
<p>$$dp_i=i+\min_{j}{dp_j-j-1 \mid \exists k,a_{i,k}=a_{j,k}=1 }$$</p>
<p>当然 $-1$ 也可以提出来，但是这不是重点所在。现在考虑怎么用线段树维护 $\min_{j}{dp_j-j-1 \mid \exists k,a_{i,k}=a_{j,k}=1 }$，可以用 vector 存储下每一行有 $1$ 的区间并离散化。离散化的时候注意，也要同时把 $l-1$ 和 $r+1$ 离散化进去，不然会有隐性的查询查错的风险。</p>
<p>每次处理完成 $dp_i$ 的时候，更新这一行是 $1$ 的那一堆区间。查询的时候，查询每一行有 $1$ 的区间，如果后续有一行和这里都有 $1$ 的话，这个区间就会被查询到，所以不存在区间遗漏问题。虽然看起来是每一行的每一个区间都要进行，但是因为离散化了数组并不会开不下，而且这样跑一遍总的复杂度是区间个数，和输入同级。带上一个线段树的 $\log$，还是绰绰有余。</p>
<p>没有写代码，是<a href="https://codeforces.com/profile/Danewol">大佬</a>教我的QAQ。</p>
<h2 id="cf1530">CF1530</h2>
<p>四题，ABCE，虽然 D 也做出来了，但是只是感性理解了题解的做法，我还没有透彻分析，所以没有。额外还有原本的 vp 的题目，做了第一题没来得及交，应该是对的。</p>
<p>因为不是正题，这里简单说一下多的那个题，<a href="https://www.luogu.com.cn/problem/CF1546A">CF1546A</a>，无解的情况就是两个数组的和不同。有解的情况只需要不断地把比目标大的数移到比目标小的数上即可。</p>
<h3 id="cf1530a">CF1530A</h3>
<blockquote>
<p>给定一个数 $n$，将其表示成若干个十进制数之和，且这些十进制数每一位必须是 $1$ 或 $0$，最少拆分为几个数。只需要输出个数，$n$ 在 int 范围内。</p>
</blockquote>
<p>显然可以 $1111\cdots 111$ 不断地加下去，形式上就是每一位上的数都加 $1$。如果这一位的数字已经 OK 了，就把后面加的数的这一位变成 $0$，如 $110111\cdots 111$。显然答案是 $n$ 的十进制位中每一位数字的最大值。</p>
<p>代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}



<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		<span style="color:#66d9ef">int</span> n<span style="color:#f92672">=</span>read(),x<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">while</span>(n){ <span style="color:#75715e">// 十进制位的数字拆分
</span><span style="color:#75715e"></span>			x<span style="color:#f92672">=</span>max(x,n<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span>);
			n<span style="color:#f92672">/=</span><span style="color:#ae81ff">10</span>;
		}
		write(x),putchar(<span style="color:#e6db74">&#39;\n&#39;</span>);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1530b">CF1530B</h3>
<blockquote>
<p>给定一个 $n\ast m$ 的矩阵，在矩阵的边缘上放 $1$，使得任意两个 $1$ 不相邻（八连通），输出任意一种方案使得放 $1$ 最大（$3\leqslant n,m\leqslant 20$）。</p>
</blockquote>
<p>很明显的一个贪心，我们把边缘分成四个部分：上面，左边，下面，右边。值得注意的是，有的部分是有一个格子的交集的。如上面和右边，共用了一个右上角的格子，因此要注意一下。</p>
<p>首先处理上面，这个时候没什么约束，直接一个隔一个放。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>m;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>) a[<span style="color:#ae81ff">1</span>][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</code></pre></div><p>然后考虑最下面，因为最上面和最下面没有交集（注意到 $n,m\geqslant 3$），也是隔一个放一个，这个时候要注意一点，如果这里隔一个放一个，左右的处理上下界就都要特殊约定；如果这里直接从第 $3$ 列开始放到第 $m-2$ 列，左右的处理上下界就没那么麻烦。虽然两者差不多，但是我选择的第二种。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">&lt;=</span>m<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>) a[n][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</code></pre></div><p>然后处理左右，这个时候左右可以一起处理，反正是对称的，因为处理上面的时候已经用到了公共格子部分，所以左右的时候循环从 $3$ 开始，因为处理下面的时候专门给他让了位置，所以不必追究哪里结束。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">&lt;=</span>n;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>) a[i][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>a[i][m]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</code></pre></div><p>总的代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">25</span>;
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}

<span style="color:#66d9ef">int</span> n,m,a[max_n][max_n];

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		n<span style="color:#f92672">=</span>read(),m<span style="color:#f92672">=</span>read();
		memset(a,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(a)); <span style="color:#75715e">// 这后面的处理上面一步一步提到了
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>m;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
			a[<span style="color:#ae81ff">1</span>][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">&lt;=</span>m<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
			a[n][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">&lt;=</span>n;i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
			a[i][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>a[i][m]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i){ <span style="color:#75715e">// 输出
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;=</span>m;<span style="color:#f92672">++</span>j)
				write(a[i][j]);
			putchar(<span style="color:#e6db74">&#39;\n&#39;</span>);
		}
		putchar(<span style="color:#e6db74">&#39;\n&#39;</span>);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1530c">CF1530C</h3>
<blockquote>
<p>两个人进行比赛，每轮两人都会得到一个 $[0,100]$ 的正整数。假设进行了 $k$ 轮，则每个人的最终得分为其各轮得分的前 $k-\left \lfloor \frac{k}{4} \right \rfloor$ 大的分数之和。现在已经进行了 $n$ 轮。求至少还要经过多少轮，第一名选手的分数才能赶上（大于等于）第二名选手。（$n\leqslant 10^5$）</p>
</blockquote>
<p>注意如果 $n$ 轮后已经到第二个人分数的时候，答案为 $0$，我进行了特判。</p>
<p>有一个很显然的贪心，那就是后面进行的回合，第一个人都是 $100$ 分，第二个人都是 $0$ 分。如果提前把两个人前 $n$ 轮的数组排个序，统计前缀和，就能很快得到再进行 $k$ 轮两人的分数。不妨二分查找这个 $k$ 值。每次如果第一个人分数没有赶上第二个人，另 $l\leftarrow mid+1$，否则另 $r\leftarrow mid-1$。</p>
<p>第二个人后续都是 $0$ 分，所以前缀和的时候可以再处理一个 $n$，$\forall n&lt;i\leqslant 2n,sum_i=sum_n$。以方便我们的处理。不过还有一个方法就是如果 $i&gt;n$，直接用 $sum_n$ 的数据就好，没有必要提前多跑一个 $n$。</p>
<p>代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">1000005</span>;
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">read</span>(){
	<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">bool</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">char</span> c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> c<span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) w<span style="color:#f92672">|=</span>c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;-&#39;</span>,c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">while</span>(c<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> c<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;9&#39;</span>) x<span style="color:#f92672">=</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>(x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">+</span>(c<span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>),c<span style="color:#f92672">=</span>getchar();
	<span style="color:#66d9ef">return</span> w<span style="color:#f92672">?-</span>x:x;
}
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">write</span>(<span style="color:#66d9ef">int</span> x){
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>) x<span style="color:#f92672">=-</span>x,putchar(<span style="color:#e6db74">&#39;-&#39;</span>);
	<span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">9</span>) write(x<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>);
	putchar(x<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">^</span><span style="color:#ae81ff">48</span>);
}

<span style="color:#66d9ef">int</span> n,a[max_n],b[max_n];

<span style="color:#66d9ef">int</span> s1[max_n],s2[max_n];

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
	<span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b;
}

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">ck</span>(<span style="color:#66d9ef">int</span> k){
    <span style="color:#75715e">// m 表示取前 m 次比赛成绩
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">int</span> m<span style="color:#f92672">=</span>(n<span style="color:#f92672">+</span>k)<span style="color:#f92672">-</span>(n<span style="color:#f92672">+</span>k)<span style="color:#f92672">/</span><span style="color:#ae81ff">4</span>;
	<span style="color:#66d9ef">return</span> k<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span><span style="color:#f92672">+</span>s1[m<span style="color:#f92672">-</span>k]<span style="color:#f92672">&lt;</span>s2[min(m,n)];
}

<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">bs</span>(<span style="color:#66d9ef">int</span> l,<span style="color:#66d9ef">int</span> r){ <span style="color:#75715e">// 二分板子
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">while</span>(l<span style="color:#f92672">&lt;=</span>r){
		<span style="color:#66d9ef">int</span> mid<span style="color:#f92672">=</span>(l<span style="color:#f92672">+</span>r)<span style="color:#f92672">&gt;&gt;</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">if</span>(ck(mid)) l<span style="color:#f92672">=</span>mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
		<span style="color:#66d9ef">else</span> r<span style="color:#f92672">=</span>mid<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
	}
	<span style="color:#66d9ef">return</span> l;
}

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> T<span style="color:#f92672">=</span>read();
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		n<span style="color:#f92672">=</span>read();
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			a[i]<span style="color:#f92672">=</span>read();
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			b[i]<span style="color:#f92672">=</span>read();
		sort(a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>n,cmp),
		sort(b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>n,cmp); <span style="color:#75715e">// 按大到小排序
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			s1[i]<span style="color:#f92672">=</span>s1[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>a[i];
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)
			s2[i]<span style="color:#f92672">=</span>s2[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>b[i];
		<span style="color:#66d9ef">if</span>(s1[n<span style="color:#f92672">-</span>n<span style="color:#f92672">/</span><span style="color:#ae81ff">4</span>]<span style="color:#f92672">&gt;=</span>s2[n<span style="color:#f92672">-</span>n<span style="color:#f92672">/</span><span style="color:#ae81ff">4</span>]){ <span style="color:#75715e">// 特判
</span><span style="color:#75715e"></span>			puts(<span style="color:#e6db74">&#34;0&#34;</span>);
			<span style="color:#66d9ef">continue</span>;
		}
		write(bs(<span style="color:#ae81ff">0</span>,n)),putchar(<span style="color:#e6db74">&#39;\n&#39;</span>);
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h3 id="cf1530e">CF1530E</h3>
<blockquote>
<p>给定一个小写字母组成的字符串 $s$，将其重新排列，使得重排后的字符串的所有前缀的 $fail$ 值（见 kmp 做法的 fail，有的地方叫 next）的最大值最小。求重排后的字符串，如果有多种方法，输出字典序最小的。$\left| s\right|\leqslant 10^5$。</p>
</blockquote>
<p>显然是一个构造题。围绕字典序最小这个信息，可以先开个桶记录原串每个字母出现次数。方便直接从 a 到 z 跑。为了方便我们记这个最大值的最小值为 $f$。然后进行分类讨论（讨论是递进的，也就是讨论到第 $i$ 种情况则默认前面 $1\sim i-1$ 的情况都不符合）：</p>
<ol>
<li>如果给定的原串只由一种字母组成，显然重排没有什么用，只能输出原串。</li>
<li>如果给定的所有字母互不相同，显然不管怎么排 $f$ 都为 $0$，因此直接按 a 到 z 给字符串排序即可。</li>
<li>如果给定的字母中存在有的字母只出现了一次，找到字典序最小的那个只存在一次的字母，放在第一个，使得后面的 fail 全部是 $0$。剩下的排序输出即可。整体的 $f=0$。如果放一个出现过多次的字母在第一个，后面一定会有几处 $fail=1$，此时 $f$ 至少为 $1$，没有那么做优。</li>
<li>如果字典序最小的那个字母出现数量小于 $\dfrac{\left| s\right|+1}{2}$，这个时候发现轮流放一个这个字母和另一个字母，最后字典序最小的这个字母会先用完。如果第一个是这个字母的话，至少后面的 $fail$ 就都是 $0$ 了。但是前面如果都是轮流放，$fail$ 大小会较大。考虑最开始先放一个字典序最小的字母，再依次轮流放字典序最小的字母和别的字母，$f=1$。</li>
<li>否则，这样子轮流放的话会有多的字典序最小字母剩余，放在后面会导致 $f=2$。但是如果只有两种字母，不妨直接第一个放字典序最小的，然后把别的字母全部放后面，再把字典序最小的字母补在后面，$f=1$。</li>
<li>如果有多种字母，考虑第三小的字母可以怎么放。如果第一个放字典序最小的，把字典序第二小的放一个在第二个，后面再补上字典序最小的。此时这一部分的 $fail=1$，后面补充一个字典序第三小的字母，然后再把没补上的字母放在后面。此时 $f=1$，且字典序理论最小。</li>
</ol>
<p>分类讨论的过程比较冗杂。代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> max_n<span style="color:#f92672">=</span><span style="color:#ae81ff">100005</span>;;

<span style="color:#66d9ef">int</span> n,cnt[max_n],tot;
string a;

<span style="color:#66d9ef">char</span> tmp[max_n];
<span style="color:#66d9ef">bool</span> ok1,ok2,ok3,ok4;

<span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>(){
	ios<span style="color:#f92672">::</span>sync_with_stdio(false);
	cin.tie(<span style="color:#ae81ff">0</span>),cout.tie(<span style="color:#ae81ff">0</span>);

	<span style="color:#66d9ef">int</span> T;cin<span style="color:#f92672">&gt;&gt;</span>T;
	<span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>){
		memset(cnt,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(cnt));
		memset(tmp,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(tmp));
		ok1<span style="color:#f92672">=</span>ok2<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,ok3<span style="color:#f92672">=</span>ok4<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;tot<span style="color:#f92672">=</span>n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		a.clear();
		cin<span style="color:#f92672">&gt;&gt;</span>a;
		n<span style="color:#f92672">=</span>a.size();
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;<span style="color:#f92672">++</span>i){
			<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span>)(a[i]<span style="color:#f92672">-</span><span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
			<span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>cnt[x]) <span style="color:#f92672">++</span>tot;
			<span style="color:#f92672">++</span>cnt[x];
			<span style="color:#66d9ef">if</span>(cnt[x]<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>)
				ok1<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
			<span style="color:#66d9ef">if</span>(cnt[x]<span style="color:#f92672">!=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
				ok2<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		}
		<span style="color:#66d9ef">int</span> frst<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i){
			<span style="color:#66d9ef">if</span>(cnt[i] <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>frst) frst<span style="color:#f92672">=</span>i;
			<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span>frst <span style="color:#f92672">&amp;&amp;</span> cnt[i]<span style="color:#f92672">&lt;=</span>(n<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>ok4)
            <span style="color:#75715e">// 因为下标从0开始，所以 (n+1)/2 改为 (n+2)/2
</span><span style="color:#75715e"></span>				ok4<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
			<span style="color:#66d9ef">if</span>(cnt[i]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>ok3)
				ok3<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
		}

		<span style="color:#66d9ef">if</span>(ok1){ <span style="color:#75715e">// 所有字母不同，直接sort
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;<span style="color:#f92672">++</span>i)
				tmp[i]<span style="color:#f92672">=</span>a[i];
			sort(tmp,tmp<span style="color:#f92672">+</span>n);
			cout<span style="color:#f92672">&lt;&lt;</span>tmp<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
			<span style="color:#66d9ef">continue</span>;
		}
		<span style="color:#66d9ef">if</span>(ok2){ <span style="color:#75715e">// 只有一种字母，输出原串
</span><span style="color:#75715e"></span>			cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
			<span style="color:#66d9ef">continue</span>;
		}
		<span style="color:#66d9ef">if</span>(ok3){ <span style="color:#75715e">// 有字母出现次数为 1
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">int</span> np<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
				<span style="color:#66d9ef">if</span>(cnt[i]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>){
					np<span style="color:#f92672">=</span>i;
					<span style="color:#f92672">--</span>cnt[i];
					cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
					<span style="color:#66d9ef">break</span>;
				}
			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
				<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>np <span style="color:#f92672">&amp;&amp;</span> cnt[i])
					<span style="color:#66d9ef">while</span>(cnt[i]<span style="color:#f92672">--</span>)
						cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
			cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
			<span style="color:#66d9ef">continue</span>;
		}
		<span style="color:#66d9ef">if</span>(ok4){ <span style="color:#75715e">// 字典序最小的字母出现次数小于 (n+1)/2
</span><span style="color:#75715e"></span>			cnt[frst]<span style="color:#f92672">-=</span><span style="color:#ae81ff">2</span>;
			cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>)<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
				<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>frst <span style="color:#f92672">&amp;&amp;</span> cnt[i])
					<span style="color:#66d9ef">while</span>(cnt[i]<span style="color:#f92672">--</span>){
						cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
						<span style="color:#66d9ef">if</span>(cnt[frst]){
							<span style="color:#f92672">--</span>cnt[frst];
							cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
						}
					}
			cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
			<span style="color:#66d9ef">continue</span>;
		}
		<span style="color:#66d9ef">if</span>(tot<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>){ <span style="color:#75715e">// 只有两种字母
</span><span style="color:#75715e"></span>			<span style="color:#f92672">--</span>cnt[frst];
			cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
			<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
				<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>frst <span style="color:#f92672">&amp;&amp;</span> cnt[i])
					<span style="color:#66d9ef">while</span>(cnt[i]<span style="color:#f92672">--</span>)
						cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
			<span style="color:#66d9ef">while</span>(cnt[frst]<span style="color:#f92672">--</span>)
				cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
			cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
			<span style="color:#66d9ef">continue</span>;
		}
        <span style="color:#75715e">// 以上条件均不成立（分类讨论的第六种情况）
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">int</span> secd<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
		<span style="color:#f92672">--</span>cnt[frst];
		cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
			<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>frst <span style="color:#f92672">&amp;&amp;</span> cnt[i]){
				secd<span style="color:#f92672">=</span>i;
				<span style="color:#f92672">--</span>cnt[i];
				cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
				<span style="color:#66d9ef">break</span>;
			}
		<span style="color:#66d9ef">while</span>(cnt[frst]<span style="color:#f92672">--</span>)
			cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(frst<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
			<span style="color:#66d9ef">if</span>(cnt[i]<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> i<span style="color:#f92672">!=</span>frst <span style="color:#f92672">&amp;&amp;</span> i<span style="color:#f92672">!=</span>secd){
				<span style="color:#f92672">--</span>cnt[i];
				cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
				<span style="color:#66d9ef">break</span>;
			}
		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">26</span>;<span style="color:#f92672">++</span>i)
			<span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>frst <span style="color:#f92672">&amp;&amp;</span> cnt[i])
				<span style="color:#66d9ef">while</span>(cnt[i]<span style="color:#f92672">--</span>)
					cout<span style="color:#f92672">&lt;&lt;</span>(<span style="color:#66d9ef">char</span>)(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;a&#39;</span>);
		cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
	}
	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h2 id="后记">后记</h2>
<p>两次比赛的整体发挥大体都比较正常。CF1557 的线段树优化 DP 没有想到。考场上对那些题目我的感觉就是会做的都会做，不会做的都不会做，就很离谱。</p>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>Permalink: </strong>
      <a href="https://walker68145/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" title="CF1557和CF1530部分题解" target="_blank" rel="external">https://walker68145/Arahc.github.io/posts/cf1557%E5%92%8Ccf1530%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License: </strong>
        <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external"></a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/Walker_68145" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://walker68145/Arahc.github.io/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/Walker_68145" target="_blank"><span class="text-dark">Arahc</span><small class="ml-1x">Arahc&#39;s home</small></a></h3>
        <div>咕↘咕↗咕——→</div>
      </div>
    </figure>
  </div>
</div>

    </div>
  </article>
</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://walker68145/Arahc.github.io/posts/rmqproblem-%E9%A2%98%E8%A7%A3/" title="RmqProblem 题解"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
            <li class="next">
                <a href="https://walker68145/Arahc.github.io/posts/%E5%85%A8%E7%9C%9F%E6%A8%A1%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/"
                    title="全真模部分题解"><span>Newer&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="Catalogue" role="button">
                    <span>[&nbsp;</span><span>Catalogue</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter"
                data-mobile-sites="weibo,qq,qzone"></div>
        </div>
    </div>
</nav>


</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/Walker_68145" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://walker68145/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2017  -
    2021
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
    
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/C&#43;&#43;.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://walker68145/Arahc.github.io/js/application.min.a94ab19cb63a95c8d7fbd7b85cab3ddeea8c369bdf75b9cab6708787ead123af.js"></script>
<script src="https://walker68145/Arahc.github.io/js/plugin.min.19c5bcb2fb0789ab4f2b7834e5ceb5e92635645605bab902c1024b25f1502364.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'https:\/\/walker68145\/Arahc.github.io',
            CONTENT_URL: 'https:\/\/walker68145\/Arahc.github.io\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://walker68145/Arahc.github.io/js/insight.min.4a2d52de4bfff73e0c688404fe3d17c9a3ae12d9888e1e1ac9c690e4890de2ded50fe55f2b819c2ba55435a76f396f3ea6805765f0b0af5635cdf74ea459eab0.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>


  </body>
</html>
